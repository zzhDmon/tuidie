!function(){"use strict";angular.module("app",["ngAria","ngCookies","ngMessages","ngResource","ngSanitize","ngStorage","ui.router","ui.router.util","angularLazyImg","infinite-scroll","angular-cache","angular-loading-bar","ngToast"]),angular.module("app").config(["$controllerProvider","$compileProvider","$filterProvider","$provide","$locationProvider","$sceDelegateProvider","cfpLoadingBarProvider","ngToastProvider",function(e,r,i,o,a,n,t,c){app.controller=e.register,app.directive=r.directive,app.filter=i.register,app.factory=o.factory,app.service=o.service,app.constant=o.constant,app.value=o.value,n.resourceUrlWhitelist(["self",GLOBAL_CONFIG.API_HOST+"/**"]),t.includeSpinner=!1,c.configure({horizontalPosition:"center",verticalPosition:"center",maxNumber:1,animation:"fade"})}]),angular.inherits=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1}})}}();
!function(){"use strict";function o(o,e,n,t,i,r,a,s,c,g,u,l,f,d){function h(){return!!s.FOR_WEIXIN&&"micromessenger"==(navigator.userAgent.toLowerCase()||navigator.vendor.toLowerCase()).match(/MicroMessenger/i)}function m(o){var e=new RegExp("(^|&)"+o+"=([^&]*)(&|$)"),n=t.location.search.substr(1).match(e);return null!=n?unescape(n[2]):null}var A;if(d.fetch().then(function(){}),o.app={name:GLOBAL_CONFIG.APP_NAME,desc:GLOBAL_CONFIG.APP_DESC,keywords:GLOBAL_CONFIG.APP_KEYWORDS,settings:{showNavbar:!0,showTabbar:!0},useragent:{isIE:!!navigator.userAgent.match(/MSIE/i),isWeixin:h(),isMobile:(A=navigator.userAgent||navigator.vendor,/iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/.test(A)),isBrowser:!0}},i.goBack=function(){!t.history||t.history.length<=1?r.go("home",{}):t.history.back()},i.goHome=function(){r.go("home",{})},i.goCategory=function(){r.go("category",{})},i.goCart=function(){r.go("cart",{})},i.goProfile=function(){r.go("profile",{})},i.goMyOrder=function(){r.go("my-order",{tab:"all"})},i.goMyFavorite=function(){r.go("my-favorite",{})},i.goMyCashgift=function(){r.go("my-cashgift",{})},i.goMyAddress=function(){r.go("my-address",{})},i.goSignin=function(){r.go("signin",{})},i.isWeixin=h,i.toast=function(o){u.create({content:'<a class="error-toast">'+o+"</a>",timeout:2e3,dismissOnTimeout:!0})},l.reloadIfNeeded(),e.search()){var p=m("token"),y=m("openid"),v=m("u");v&&f.setReferences(v),p&&f.setToken(p),y&&f.setOpenId(y)}}angular.module("app").controller("AppController",o),o.$inject=["$scope","$location","$localStorage","$window","$rootScope","$state","$controller","CONSTANTS","API","ENUM","ngToast","CartModel","AppAuthenticationService","ConfigModel"]}();
!function(){"use strict";function t(i,u,t,e,c,s,r){i.$state=u,i.$stateParams=t,i.$on("$stateChangeStart",function(t,e,o,n,a){e.needAuth&&!r.getToken()&&s(function(){i.goSignin()},1)}),i.$on("$stateChangeSuccess",function(t,e,o,n,a){$("html, body").animate({scrollTop:$("body").offset().top},"fast",function(){}),e.title&&(c.document.title=e.title)}),i.$on("$stateNotFound",function(t,e,o,n,a){u.go("home",{})})}function e(t,e){e.otherwise("/home"),t.state("404",{url:"/404",templateUrl:"app/templates/404.html"})}angular.module("app").run(t).config(e),t.$inject=["$rootScope","$state","$stateParams","$location","$window","$timeout","AppAuthenticationService"],e.$inject=["$stateProvider","$urlRouterProvider"]}();
!function(){"use strict";angular.module("app").constant("CONSTANTS",{APP_NAME:GLOBAL_CONFIG.APP_NAME,API_HOST:GLOBAL_CONFIG.API_HOST,FOR_WEIXIN:GLOBAL_CONFIG.FOR_WEIXIN,ENCRYPTED:GLOBAL_CONFIG.ENCRYPTED,APP_CONFIG:{}}).run(["$rootScope","CONSTANTS",function(N,O){N.CONSTANTS=O}])}();
!function(){"use strict";function e(r,e,u){try{r.user=u.getObject("u"),r.token=u.get("t"),r.openId=u.get("o"),r.references=u.get("r")}catch(e){}var t={signin:function(e,t){n(e,t),$timeout(function(){r.goHome()},1)},signout:function(){i(),$timeout(function(){r.goHome()},1)},kickout:function(){i(),r.goSignin()}};t.setCredentials=n,t.clearCredentials=i,t.setUser=function(e){r.user=e;try{var t={},n=new Date;n.setDate(n.getDate()+o),n.setMinutes(n.getMinutes()+s),t.expires=n,u.putObject("u",e,t)}catch(e){}},t.getUser=function(){return r.user},t.getToken=function(){return r.token},t.setToken=function(e){r.token=e;try{var t={},n=new Date;n.setDate(n.getDate()+o),n.setMinutes(n.getMinutes()+s),t.expires=n,u.put("t",e,t)}catch(e){}},t.setReferences=function(e){r.references=e;try{var t=new Date;t.setDate(t.getDate()+o),t.setMinutes(t.getMinutes()+s),u.put("r",e,{expires:t})}catch(e){}},t.getReferences=function(){return r.references},t.setOpenId=function(e){r.openId=e;try{var t={},n=new Date;n.setDate(n.getDate()+o),n.setMinutes(n.getMinutes()+s),t.expires=n,u.put("o",e,t)}catch(e){}},t.getOpenId=function(){return r.openId};var o=7,s=1;return t;function n(e,t){r.user=t,r.token=e;try{var n=new Date;n.setDate(n.getDate()+o),n.setMinutes(n.getMinutes()+s),u.putObject("u",t,{expires:n}),u.put("t",e,{expires:n})}catch(e){}}function i(){r.user=null,r.token=null,r.openId=null,u.remove("u"),u.remove("t"),u.remove("o")}}angular.module("app").factory("AppAuthenticationService",e),e.$inject=["$rootScope","$localStorage","$cookies"]}();
!function(){"use strict";function e(e,r){var O="getprogname()";function t(t,e,r,a,o,n,c){return{request:function(e){return"/"==e.url.charAt(0)&&(e.url=o.API_HOST+e.url),e},requestError:function(e){return t.toast("网络错误，请稍后再试"),e},response:function(e){if(e&&e.data&&e.data.error_code&&n.ERROR_CODE.OK!=e.data.error_code){GLOBAL_CONFIG.DEBUG;var r=e.data.error_desc;r||(r="网络错误 "+e.data.error_code),t.toast(r),e.data.error_code!==n.ERROR_CODE.TOKEN_INVALID&&e.data.error_code!==n.ERROR_CODE.TOKEN_EXPIRED||c.kickout()}return e},responseError:function(e){var r="网络错误 ("+e.status+"), "+e.statusText;return t.toast(r),e.data={error_code:n.ERROR_CODE.UNKNOWN,error_desc:r},e}}}function a(A,C,e){return null==A.activeCalls&&(A.activeCalls=0),{request:function(e){A.activeCalls+=1,"micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)?e.headers["X-ECAPI-UserAgent"]="Platform/Wechat":e.headers["X-ECAPI-UserAgent"]="Platform/Mozilla",e.headers["X-ECAPI-UDID"]=null,e.headers["X-ECAPI-Ver"]="1.1.0",e.headers["X-ECAPI-Sign"]=null;var r=C.getToken();r&&(e.headers["X-ECAPI-Authorization"]=r),GLOBAL_CONFIG.DEBUG;var t,a,o=e.data||{};if(null!=o&&GLOBAL_CONFIG.ENCRYPTED){for(var n=(t=o,(a=Object.keys(t)).sort(),a),c="",s=0;s<n.length;++s){0<s&&(c+="&");var i=n[s],p=o[i];c+=i+"="+(p=encodeURIComponent(p).replace("!","%21").replace("*","%2A").replace("(","%28").replace(")","%29").replace(")","%27").replace("~","%7E"))}var d=Date.parse(new Date)/1e3+"",u=XXTEA.encryptToBase64(c,O),l=(encodeURIComponent(u).replace("!","%21").replace("*","%2A").replace("(","%28").replace(")","%29").replace(")","%27").replace("~","%7E"),d+c),E=CryptoJS.HmacSHA256(l,"arc4random()",{asBytes:!1}).toString(CryptoJS.enc.Hex);e.headers["X-ECAPI-Sign"]=E+","+d,u&&0<u.length&&(e.data={x:u})}return e},requestError:function(e){return A.activeCalls-=1,GLOBAL_CONFIG.DEBUG,e},response:function(e){A.activeCalls-=1,GLOBAL_CONFIG.DEBUG;var r=e.headers(),t=parseInt(r["x-ecapi-errorcode"]),a=r["x-ecapi-errordesc"],o=r["x-ecapi-new-authorization"];if(GLOBAL_CONFIG.ENCRYPTED&&e.data&&e.data.data){var n=XXTEA.decryptFromBase64(e.data.data,O),c=JSON.parse(n);if(c)for(var s in delete e.data.data,e.data.error_code=t,e.data.error_desc=a,o&&C.setToken(o),c)e.data[s]=c[s]}return e},responseError:function(e){return A.activeCalls-=1,GLOBAL_CONFIG.DEBUG,A.toast("网络错误，请稍后再试"),e}}}e.interceptors.push("AppNetworkProxyInterceptor"),e.interceptors.push("AppNetworkHeaderInterceptor"),r.factory("AppNetworkProxyInterceptor",t),t.$inject=["$rootScope","$cookieStore","$location","$q","CONSTANTS","ENUM","AppAuthenticationService"],r.factory("AppNetworkHeaderInterceptor",a),a.$inject=["$rootScope","AppAuthenticationService","ENUM"]}angular.module("app").config(e),e.$inject=["$httpProvider","$provide"]}();
!function(){"use strict";function t(t){return{}}angular.module("app").factory("APIAccessService",t),t.$inject=["$http"]}();
!function(){"use strict";function e(e,t,r,a,c){var n=new APIEndpoint(e,t,r,a,"APIAreacodeService");return n.list=function(e){return this.fetch("/v2/ecapi.areacode.list",e,!1,function(e){return c.ERROR_CODE.OK==e.data.error_code?e.data.area_code:null})},n}angular.module("app").factory("APIAreacodeService",e),e.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function t(t,e,r,c,i){var n=new APIEndpoint(t,e,r,c,"APIArticleService");return n.list=function(t){return this.fetch("/v2/ecapi.article.list",t,!1,function(t){return t.data&&i.ERROR_CODE.OK==t.data.error_code?t.data:null})},n}angular.module("app").factory("APIArticleService",t),t.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function t(t,e,n,a,r,i){var u=new APIEndpoint(t,e,n,a,"APIAuthBaseService");return u.signin=function(t){return this.fetch("/v2/ecapi.auth.signin",t,!1,function(t){return!!(t.data&&i.ERROR_CODE.OK==t.data.error_code&&t.data.token&&t.data.user)&&(r.setCredentials(t.data.token,t.data.user),!0)})},u.signout=function(){var t=this.$q.defer();return n(function(){r.clearCredentials(),t.resolve(!0)},1),t.promise},u}angular.module("app").factory("APIAuthBaseService",t),t.$inject=["$http","$q","$timeout","CacheFactory","AppAuthenticationService","ENUM"]}();
!function(){"use strict";function t(t,e,a,n,u,r){var i=new APIEndpoint(t,e,a,n,"APIAuthDefaultService");return i.signup=function(t){return this.fetch("/v2/ecapi.auth.default.signup",t,!1,function(t){return t.data&&r.ERROR_CODE.OK==t.data.error_code&&t.data.token&&t.data.user&&u.setCredentials(t.data.token,t.data.user),t})},i.reset=function(t){return this.fetch("/v2/ecapi.auth.default.reset",t,!1,function(t){return t})},i}angular.module("app").factory("APIAuthDefaultService",t),t.$inject=["$http","$q","$timeout","CacheFactory","AppAuthenticationService","ENUM"]}();
!function(){"use strict";function t(t,e,n,r,i,u){var a=new APIEndpoint(t,e,n,r,"APIAuthMobileService");return a.send=function(t){return this.fetch("/v2/ecapi.auth.mobile.send",t,!1,function(t){return t})},a.verify=function(t){return this.fetch("/v2/ecapi.auth.mobile.verify",t,!1,function(t){return u.ERROR_CODE.OK==t.data.error_code})},a.signup=function(t){return this.fetch("/v2/ecapi.auth.mobile.signup",t,!1,function(t){return t.data&&u.ERROR_CODE.OK==t.data.error_code&&t.data.token&&t.data.user&&i.setCredentials(t.data.token,t.data.user),t})},a.reset=function(t){return this.fetch("/v2/ecapi.auth.mobile.reset",t,!1,function(t){return t})},a}angular.module("app").factory("APIAuthMobileService",t),t.$inject=["$http","$q","$timeout","CacheFactory","AppAuthenticationService","ENUM"]}();
!function(){"use strict";function t(t,a,e,n,c,i){var r=new APIEndpoint(t,a,e,n,"APIAuthSocialService");return r.social=function(t){return this.fetch("/v2/ecapi.auth.social",t,!1,function(t){return!!(t.data&&i.ERROR_CODE.OK==t.data.error_code&&t.data.token&&t.data.user)&&(c.setCredentials(t.data.token,t.data.user),!0)})},r}angular.module("app").factory("APIAuthSocialService",t),t.$inject=["$http","$q","$timeout","CacheFactory","AppAuthenticationService","ENUM"]}();
!function(){"use strict";function t(t,e,n,c,i,u){var r=new APIEndpoint(t,e,n,c,"APIAuthWebService");return r.web=function(t){},r}angular.module("app").factory("APIAuthWebService",t),t.$inject=["$http","$q","$timeout","CacheFactory","AppAuthenticationService","ENUM"]}();
!function(){"use strict";function n(n,t,e,r,a){var c=new APIEndpoint(n,t,e,r,"APIBannerService");return c.list=function(n){return this.fetch("/v2/ecapi.banner.list",n,!0,function(n){return a.ERROR_CODE.OK==n.data.error_code?n.data.banners:null})},c}angular.module("app").factory("APIBannerService",n),n.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function t(t,n,r,e,a){var c=new APIEndpoint(t,n,r,e,"APIBrandService");return c.list=function(t){return this.fetch("/v2/ecapi.brand.list",t,!0,function(t){return a.ERROR_CODE.OK==t.data.error_code?t.data.brands:null})},c}angular.module("app").factory("APIBrandService",t),t.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function e(e,r,t,a,n){var c=new APIEndpoint(e,r,t,a,"APIBrandService");return c.preview=function(e){return this.fetch("/v2/ecapi.cardpage.preview",e,!1,function(e){return n.ERROR_CODE.OK==e.data.error_code?e.data.cardpage:null})},c.get=function(e){return this.fetch("/v2/ecapi.cardpage.get",e,!1,function(e){return n.ERROR_CODE.OK==e.data.error_code?e.data.cardpage:null})},c}angular.module("app").factory("APICardpageService",e),e.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function t(t,r,e,c,n){var a=new APIEndpoint(t,r,e,c,"APICartService");return a.get=function(t){return this.fetch("/v2/ecapi.cart.get",t,!1,function(t){return n.ERROR_CODE.OK==t.data.error_code?t.data.goods_groups:null})},a.add=function(t){return this.fetch("/v2/ecapi.cart.add",t,!1,function(t){return n.ERROR_CODE.OK==t.data.error_code})},a.delete=function(t){return this.fetch("/v2/ecapi.cart.delete",t,!1,function(t){return n.ERROR_CODE.OK==t.data.error_code})},a.update=function(t){return this.fetch("/v2/ecapi.cart.update",t,!1,function(t){return n.ERROR_CODE.OK==t.data.error_code})},a.clear=function(t){return this.fetch("/v2/ecapi.cart.clear",t,!1,function(t){return n.ERROR_CODE.OK==t.data.error_code})},a.promos=function(t){return this.fetch("/v2/ecapi.cart.promos",t,!1,function(t){return n.ERROR_CODE.OK==t.data.error_code?t.data.cart_product_promos:null})},a.checkout=function(t){return this.fetch("/v2/ecapi.cart.checkout",t,!1,function(t){return n.ERROR_CODE.OK==t.data.error_code?t.data.order:null})},a}angular.module("app").factory("APICartService",t),t.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function t(t,a,i,e,n){var c=new APIEndpoint(t,a,i,e,"APICashgiftService");return c.list=function(t){return this.fetch("/v2/ecapi.cashgift.list",t,!1,function(t){return n.ERROR_CODE.OK==t.data.error_code?t.data.cashgifts:null})},c.available=function(t){return this.fetch("/v2/ecapi.cashgift.available",t,!1,function(t){return n.ERROR_CODE.OK==t.data.error_code?t.data.cashgifts:null})},c}angular.module("app").factory("APICashgiftService",t),t.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function t(t,e,r,n,a){var c=new APIEndpoint(t,e,r,n,"APICategoryService");return c.list=function(t){return this.fetch("/v2/ecapi.category.list",t,!0,function(t){return a.ERROR_CODE.OK==t.data.error_code?t.data.categories:null})},c}angular.module("app").factory("APICategoryService",t),t.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function t(t,e,r,a,n){var c=new APIEndpoint(t,e,r,a,"APIConfigService");return c.get=function(t){return this.fetch("/v2/ecapi.config.get",t,!1,function(t){if(n.ERROR_CODE.OK==t.data.error_code){if(GLOBAL_CONFIG.ENCRYPTED)return t.data;var e=t.data.data;return JSON.parse(XXTEA.decryptFromBase64(e,"getprogname()"))}return null})},c.getWeChat=function(t){return this.fetch("/v2/ecapi.config.wechat",t,!1,function(t){if(n.ERROR_CODE.OK==t.data.error_code){if(GLOBAL_CONFIG.ENCRYPTED)return t.data;var e=t.data.data;return JSON.parse(XXTEA.decryptFromBase64(e,"getprogname()"))}return null})},c}angular.module("app").factory("APIConfigService",t),t.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function e(e,n,t,r,c){var i=new APIEndpoint(e,n,t,r,"APIConsigneeService");return i.list=function(e){return this.fetch("/v2/ecapi.consignee.list",e,!1,function(e){return c.ERROR_CODE.OK==e.data.error_code?e.data.consignees:null})},i.add=function(e){return this.fetch("/v2/ecapi.consignee.add",e,!1,function(e){return c.ERROR_CODE.OK==e.data.error_code?e.data.consignee:null})},i.delete=function(e){return this.fetch("/v2/ecapi.consignee.delete",e,!1,function(e){return c.ERROR_CODE.OK==e.data.error_code})},i.update=function(e){return this.fetch("/v2/ecapi.consignee.update",e,!1,function(e){return c.ERROR_CODE.OK==e.data.error_code})},i.setDefault=function(e){return this.fetch("/v2/ecapi.consignee.setDefault",e,!1,function(e){return c.ERROR_CODE.OK==e.data.error_code})},i}angular.module("app").factory("APIConsigneeService",e),e.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function t(t,n,o,e,a){var c=new APIEndpoint(t,n,o,e,"APICouponService");return c.list=function(t){return this.fetch("/v2/ecapi.coupon.list",t,!1,function(t){return a.ERROR_CODE.OK==t.data.error_code?t.data.coupons:null})},c.available=function(t){return this.fetch("/v2/ecapi.coupon.available",t,!1,function(t){return a.ERROR_CODE.OK==t.data.error_code?t.data.coupons:null})},c}angular.module("app").factory("APICouponService",t),t.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function t(t,e,n,c,i){var r=new APIEndpoint(t,e,n,c,"APIInvoiceService");return r.typeList=function(t){return this.fetch("/v2/ecapi.invoice.type.list",t,!1,function(t){return i.ERROR_CODE.OK==t.data.error_code?t.data.types:null})},r.contentList=function(t){return this.fetch("/v2/ecapi.invoice.content.list",t,!1,function(t){return i.ERROR_CODE.OK==t.data.error_code?t.data.contents:null})},r.statusGet=function(t){return this.fetch("/v2/ecapi.invoice.status.get",params,!1,function(t){return i.ERROR_CODE.OK==t.data.error_code})},r}angular.module("app").factory("APIInvoiceService",t),t.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function e(e,t,r,n,a){var s=new APIEndpoint(e,t,r,n,"APIMessageService");return s.systemList=function(e){return this.fetch("/v2/ecapi.message.system.list",e,!1,function(e){return a.ERROR_CODE.OK==e.data.error_code?e.data.messages:null})},s.orderList=function(e){return this.fetch("/v2/ecapi.message.order.list",e,!1,function(e){return a.ERROR_CODE.OK==e.data.error_code?e.data.messages:null})},s.count=function(e){return this.fetch("/v2/ecapi.message.count",e,!1,function(e){return a.ERROR_CODE.OK==e.data.error_code?e.data.count:0})},s}angular.module("app").factory("APIMessageService",e),e.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function t(t,e,n,c,i){var r=new APIEndpoint(t,e,n,c,"APINoticeService");return r.list=function(t){return this.fetch("/v2/ecapi.notice.list",t,!0,function(t){return i.ERROR_CODE.OK==t.data.error_code?t.data.notices:null})},r}angular.module("app").factory("APINoticeService",t),t.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function r(r,e,t,n,o){var c=new APIEndpoint(r,e,t,n,"APIOrderService");return c.get=function(r){return this.fetch("/v2/ecapi.order.get",r,!1,function(r){return o.ERROR_CODE.OK==r.data.error_code?r.data.order:null})},c.list=function(r){return this.fetch("/v2/ecapi.order.list",r,!1,function(r){return o.ERROR_CODE.OK==r.data.error_code?r.data.orders:null})},c.confirm=function(r){return this.fetch("/v2/ecapi.order.confirm",r,!1,function(r){return o.ERROR_CODE.OK==r.data.error_code?r.data.order:null})},c.reasonList=function(r){return this.fetch("/v2/ecapi.order.reason.list",r,!0,function(r){return o.ERROR_CODE.OK==r.data.error_code?r.data.reasons:null})},c.cancel=function(r){return this.fetch("/v2/ecapi.order.cancel",r,!1,function(r){return o.ERROR_CODE.OK==r.data.error_code?r.data.order:null})},c.review=function(r){return this.fetch("/v2/ecapi.order.review",r,!1,function(r){return o.ERROR_CODE.OK==r.data.error_code})},c.subtotal=function(r){return this.fetch("/v2/ecapi.order.subtotal",r,!1,function(r){return o.ERROR_CODE.OK==r.data.error_code?r.data.subtotal:null})},c.price=function(r){return this.fetch("/v2/ecapi.order.price",r,!1,function(r){return o.ERROR_CODE.OK==r.data.error_code?r.data.order_price:null})},c}angular.module("app").factory("APIOrderService",r),r.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function t(t,e,n,r,a){var c=new APIEndpoint(t,e,n,r,"APIPaymentService");return c.pay=function(t){return this.fetch("/v2/ecapi.payment.pay",t,!1,function(t){return a.ERROR_CODE.OK==t.data.error_code?t:null})},c.typeList=function(t){return this.fetch("/v2/ecapi.payment.types.list",t,!1,function(t){return a.ERROR_CODE.OK==t.data.error_code?t.data.payment_types:null})},c}angular.module("app").factory("APIPaymentService",t),t.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function t(t,r,e,c,n){var u=new APIEndpoint(t,r,e,c,"APIProductService");return u.list=function(t){return this.fetch("/v2/ecapi.product.list",t,!1,function(t){return t.data&&n.ERROR_CODE.OK==t.data.error_code?t.data.products:null})},u.homeList=function(t){return this.fetch("/v2/ecapi.home.product.list",t,!1,function(t){return t.data&&n.ERROR_CODE.OK==t.data.error_code?t.data:null})},u.accessoryList=function(t){return this.fetch("/v2/ecapi.product.list",t,!1,function(t){return n.ERROR_CODE.OK==t.data.error_code?t.data.products:null})},u.get=function(t){return this.fetch("/v2/ecapi.product.get",t,!1,function(t){return n.ERROR_CODE.OK==t.data.error_code?t.data.product:null})},u.like=function(t){return this.fetch("/v2/ecapi.product.like",t,!1,function(t){return n.ERROR_CODE.OK!=t.data.error_code||t.data.is_liked})},u.unlike=function(t){return this.fetch("/v2/ecapi.product.unlike",t,!1,function(t){return n.ERROR_CODE.OK==t.data.error_code&&t.data.is_liked})},u.likedList=function(t){return this.fetch("/v2/ecapi.product.liked.list",t,!1,function(t){return n.ERROR_CODE.OK==t.data.error_code?t.data.products:null})},u.validate=function(t){return this.fetch("/v2/ecapi.product.validate",t,!1,function(t){return n.ERROR_CODE.OK==t.data.error_code&&t.data.is_valid})},u.purchase=function(t){return this.fetch("/v2/ecapi.product.purchase",t,!1,function(t){return n.ERROR_CODE.OK==t.data.error_code?t.data.order:null})},u}angular.module("app").factory("APIProductService",t),t.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function t(t,e,n,u,r){var c=new APIEndpoint(t,e,n,u,"APIPushService");return c.update=function(t){return this.fetch("/v2/ecapi.push.update",t,!1,function(t){return r.ERROR_CODE.OK==t.data.error_code?t:null})},c}angular.module("app").factory("APIPushService",t),t.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function t(t,n,e,r,o){var c=new APIEndpoint(t,n,e,r,"APIRecommendService");return c.categoryList=function(t){return this.fetch("/v2/ecapi.recommend.category.list",t,!1,function(t){return o.ERROR_CODE.OK==t.data.error_code?t.data.categories:null})},c.productList=function(t){return this.fetch("/v2/ecapi.recommend.product.list",t,!1,function(t){return o.ERROR_CODE.OK==t.data.error_code?t.data.products:null})},c.brandList=function(t){return this.fetch("/v2/ecapi.recommend.brand.list",t,!1,function(t){return o.ERROR_CODE.OK==t.data.error_code?t.data.brands:null})},c.shopList=function(t){return this.fetch("/v2/ecapi.recommend.shop.list",t,!1,function(t){return o.ERROR_CODE.OK==t.data.error_code?t.data.shops:null})},c.bonusInfo=function(t){return this.fetch("/v2/ecapi.recommend.bonus.info",t,!1,function(t){return o.ERROR_CODE.OK==t.data.error_code?t.data.bonus_info:null})},c}angular.module("app").factory("APIRecommendService",t),t.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function t(t,e,n,i,r){var o=new APIEndpoint(t,e,n,i,"APIRegionService");return o.list=function(t){return this.fetch("/v2/ecapi.region.list",t,!0,function(t){return r.ERROR_CODE.OK==t.data.error_code?t.data.regions:null})},o}angular.module("app").factory("APIRegionService",t),t.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function t(t,e,r,n,u){var c=new APIEndpoint(t,e,r,n,"APIReviewService");return c.productSubtotal=function(t){return this.fetch("/v2/ecapi.review.product.subtotal",t,!1,function(t){return u.ERROR_CODE.OK==t.data.error_code?t.data.subtotal:null})},c.productList=function(t){return this.fetch("/v2/ecapi.review.product.list",t,!1,function(t){return u.ERROR_CODE.OK==t.data.error_code?t.data.reviews:null})},c}angular.module("app").factory("APIReviewService",t),t.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function t(t,r,e,n,c){var o=new APIEndpoint(t,r,e,n,"APIScoreService");return o.get=function(t){return this.fetch("/v2/ecapi.score.get",t,!1,function(t){return c.ERROR_CODE.OK==t.data.error_code?t.data:null})},o.historyList=function(t){return this.fetch("/v2/ecapi.score.history.list",t,!1,function(t){return c.ERROR_CODE.OK==t.data.error_code?t.data.history:null})},o}angular.module("app").factory("APIScoreService",t),t.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function t(t,r,e,c,n){var o=new APIEndpoint(t,r,e,c,"APISearchService");return o.keywordList=function(t){return this.fetch("/v2/ecapi.search.keyword.list",t,!0,function(t){return n.ERROR_CODE.OK==t.data.error_code?t.data.keywords:null})},o.shopList=function(t){return this.fetch("/v2/ecapi.search.shop.list",t,!1,function(t){return n.ERROR_CODE.OK==t.data.error_code?t.data.shops:null})},o.productList=function(t){return this.fetch("/v2/ecapi.search.product.list",t,!1,function(t){return n.ERROR_CODE.OK==t.data.error_code?t.data.products:null})},o.categoryList=function(t){return this.fetch("/v2/ecapi.search.category.list",t,!1,function(t){return n.ERROR_CODE.OK==t.data.error_code?t:null})},o}angular.module("app").factory("APISearchService",t),t.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function t(t,n,e,r,i,o){var c=new APIEndpoint(t,n,e,i,"APIShippingService");return c.vendorList=function(t){return this.fetch("/v2/ecapi.shipping.vendor.list",t,!1,function(t){return o.ERROR_CODE.OK==t.data.error_code?t.data.vendors:null})},c.statusGet=function(t){return this.fetch("/v2/ecapi.shipping.status.get",t,!1,function(t){return o.ERROR_CODE.OK==t.data.error_code?t.data:null})},c}angular.module("app").factory("APIShippingService",t),t.$inject=["$http","$q","$timeout","$rootScope","CacheFactory","ENUM"]}();
!function(){"use strict";function t(t,e,n,c,o){return new APIEndpoint(t,e,n,c,"APIShopService")}angular.module("app").factory("APIShopService",t),t.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function t(t,e,i,n,a){var c=new APIEndpoint(t,e,i,n,"APISiteService");return c.get=function(t){return this.fetch("/v2/ecapi.site.get",t,!1,function(t){return t.data&&t.data.site_info?t.data.site_info:null})},c}angular.module("app").factory("APISiteService",t),t.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function t(t,e,r,n,a){var i=new APIEndpoint(t,e,r,n,"APISplashService");return i.preview=function(t){return this.fetch("/v2/ecapi.splash.preview",t,!1,function(t){return a.ERROR_CODE.OK==t.data.error_code?t.data.splash:null})},i.list=function(t){return this.fetch("/v2/ecapi.splash.list",t,!1,function(t){return a.ERROR_CODE.OK==t.data.error_code?t.data.splashes:null})},i}angular.module("app").factory("APISplashService",t),t.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function t(t){return{}}angular.module("app").factory("APIThemeService",t),t.$inject=["$http"]}();
!function(){"use strict";function e(e,r,t,n,i){var u=new APIEndpoint(e,r,t,n,"APIUserService");return u.profileGet=function(e){return this.fetch("/v2/ecapi.user.profile.get",e,!1,function(e){return i.ERROR_CODE.OK==e.data.error_code?e.data.user:null})},u.profileFields=function(e){return this.fetch("/v2/ecapi.user.profile.fields",e,!1,function(e){return i.ERROR_CODE.OK==e.data.error_code?e.data.signup_field:null})},u.profileUpdate=function(e){return this.fetch("/v2/ecapi.user.profile.update",e,!1,function(e){return i.ERROR_CODE.OK==e.data.error_code?e.data.user:null})},u.passwordUpdate=function(e){return this.fetch("/v2/ecapi.user.password.update",e,!1,function(e){return e})},u.getChildren=function(){return this.fetch("/v2/ecapi.user.children",null,!1,function(e){return i.ERROR_CODE.OK==e.data.error_code?e.data.children:[]})},u}angular.module("app").factory("APIUserService",e),e.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function e(e,n,t,r,c){var i=new APIEndpoint(e,n,t,r,"APIVersionService");return i.check=function(e){return this.fetch("/v2/ecapi.version.check",e,!0,function(e){return c.ERROR_CODE.OK==e.data.error_code?e.data.version_info:null})},i}angular.module("app").factory("APIVersionService",e),e.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function n(n,t,e,o,r){var u=new APIEndpoint(n,t,e,o,"APIBonusService");return u.get=function(n){return this.fetch("/v2/ecapi.recommend.bonus.info",n,!1,function(n){return r.ERROR_CODE.OK==n.data.error_code?n.data.bonus_info:null})},u.list=function(n){return this.fetch("/v2/ecapi.recommend.bonus.list",n,!1,function(n){return r.ERROR_CODE.OK==n.data.error_code?n.data.bonues:null})},u}angular.module("app").factory("APIBonusService",n),n.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function t(t,e,n,a,c){var r=new APIEndpoint(t,e,n,a,"APIBalanceService");return r.get=function(t){return this.fetch("/v2/ecapi.balance.get",t,!1,function(t){return c.ERROR_CODE.OK==t.data.error_code?t.data.amount:null})},r.list=function(t){return this.fetch("/v2/ecapi.balance.list",t,!1,function(t){return c.ERROR_CODE.OK==t.data.error_code?t.data.balances:null})},r}angular.module("app").factory("APIBalanceService",t),t.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(){"use strict";function t(t,r,n,a,i){var e=new APIEndpoint(t,r,n,a,"APIWithDrawService");return e.get=function(t){return this.fetch("/v2/ecapi.withdraw.info",t,!1,function(t){return i.ERROR_CODE.OK==t.data.error_code?t.data.withdraw:null})},e.list=function(t){return this.fetch("/v2/ecapi.withdraw.list",t,!1,function(t){return i.ERROR_CODE.OK==t.data.error_code?t.data.withdraws:null})},e.cancel=function(t){return this.fetch("/v2/ecapi.withdraw.cancel",t,!1,function(t){return i.ERROR_CODE.OK==t.data.error_code?t.data.withdraw:null})},e.submit=function(t){return this.fetch("/v2/ecapi.withdraw.submit",t,!1,function(t){return i.ERROR_CODE.OK==t.data.error_code?t.data.withdraw:null})},e}angular.module("app").factory("APIWithDrawService",t),t.$inject=["$http","$q","$timeout","CacheFactory","ENUM"]}();
!function(e){"use strict";function A(e,A,c,i,r,t,S,I,E,a,o,n,h,P,R,s,O,C,v,T,L,B,D,N,u,p,U,H,_,f,V,G,l,g,d,m,F,M,X){return{access:e,areacode:A,article:c,auth:{base:i,default:r,mobile:t,social:S,web:I},banner:E,brand:a,cardpage:o,cart:n,cashgift:h,category:P,config:R,consignee:s,coupon:O,invoice:C,message:v,notice:T,order:L,payment:B,product:D,push:N,recommend:u,region:p,review:U,score:H,search:_,shipping:f,shop:V,site:G,splash:l,theme:g,user:d,version:m,bonus:F,balance:M,withdraw:X}}function c(e,A,c,i,r){this.$http=e,this.$q=A,this.$timeout=c,this.CacheFactory=i,this.name=r,this.cache=this.CacheFactory.get(this.name),this.cache||(this.cache=this.CacheFactory.createCache(r,{deleteOnExpire:"aggressive",recycleFreq:6e4,maxAge:6e5}))}angular.module("app").factory("API",A),A.$inject=["APIAccessService","APIAreacodeService","APIArticleService","APIAuthBaseService","APIAuthDefaultService","APIAuthMobileService","APIAuthSocialService","APIAuthWebService","APIBannerService","APIBrandService","APICardpageService","APICartService","APICashgiftService","APICategoryService","APIConfigService","APIConsigneeService","APICouponService","APIInvoiceService","APIMessageService","APINoticeService","APIOrderService","APIPaymentService","APIProductService","APIPushService","APIRecommendService","APIRegionService","APIReviewService","APIScoreService","APISearchService","APIShippingService","APIShopService","APISiteService","APISplashService","APIThemeService","APIUserService","APIVersionService","APIBonusService","APIBalanceService","APIWithDrawService"],angular.module("app").constant("ENUM",{ERROR_CODE:{OK:0,UNKNOWN_ERROR:1e4,TOKEN_INVALID:10001,TOKEN_EXPIRED:10002,SIGN_INVALID:10003,SIGN_EXPIRED:10004},SORT_KEY:{DEFAULT:0,PRICE:1,POPULAR:2,CREDIT:3,SALE:4,DATE:5},SORT_VALUE:{DEFAULT:0,ASC:1,DESC:2},SOCIAL_VENDOR:{UNKNOWN:0,WEIXIN:1,WEIBO:2,QQ:3,TAOBAO:4},CARDGROUP_LAYOUT:{A1H:"A1H",A1S:"A1S",A2H:"A2H",A2S:"A2S",A2XS:"A2XS",A2XH:"A2XH",A2XXH:"A2XXH",A3XH:"A3XH",A3H:"A3H",A3S:"A3S",A4H:"A4H",A4S:"A4S",A5H:"A5H",A5S:"A5S",B1L:"B1L",B1R:"B1R",B2L:"B2L",B2R:"B2R",B3L:"B3L",B3R:"B3R",B4L:"B4L",B4R:"B4R",B5L:"B5L",B5R:"B5R",C1H:"C1H",C1S:"C1S",C2:"C2",C3:"C3"},CARD_STYLE:{V1T:"V1T",V1B:"V1B",V2T:"V2T",V2B:"V2B",H1L:"H1L",H1R:"H1R",H2L:"H2L",H2R:"H2R",Z1:"Z1",Z2:"Z2",Z3:"Z3",V3T:"V3T",V3B:"V3B",V4T:"V4T",V4B:"V4B",Z2P:"Z2P",Z2L:"Z2L"},CASHGIFT_STATUS:{AVAILABLE:0,EXPIRED:1,USED:2},PLATFORM_TYPE:{B2C:0,B2B2C:1},PLATFORM_VENDOR:{UNKNOWN:0,ECSHOP:1,ECSTORE:2,ECMALL:3,MAGENTO:4},COUPON_STATUS:{AVAILABLE:0,EXPIRED:1,USED:2},MESSAGE_TYPE:{SYSTEM:1,ORDER:2},ORDER_STATUS:{CREATED:0,PAID:1,DELIVERING:2,DELIVERIED:3,FINISHED:4,CANCELLED:5},ORDER_GRADE:{BAD:1,MEDIUM:2,GOOD:3},PRODUCT_ACTIVITY_STATUS:{PREPARING:0,ONGOING:1,FINISHED:2},REVIEW_GRADE:{ALL:0,BAD:1,MEDIUM:2,GOOD:3},SCORE_STATUS:{INCOME:1,EXPENDITURE:2},KEYWORD_TYPE:{PRODUCT:1,SHOP:2},PROFILE_GENDER:{UNKNOWN:0,MALE:1,FEMALE:2},BONUS_STATUS:{WAIT:0,FINISH:1,CANCEL:2,REVOKE:3},BONUS_TYPE:{SIGNUP:0,ORDER:1},WITHDRAW_STATUS:{WAIT:0,FINISH:1,CANCEL:2,FAILED:3},BALANCE_STATUS:{IN:1,OUT:2}}).run(["$rootScope","ENUM",function(e,A){e.ENUM=A}]),c.prototype.readCache=function(e){if(!this.cache)return null;var A=e,c=this.cache.get(A);return GLOBAL_CONFIG.DEBUG,c},c.prototype.writeCache=function(e,A){if(this.cache){var c=e,i=A;GLOBAL_CONFIG.DEBUG,this.cache.put(c,i)}},c.prototype.deleteCache=function(e){if(this.cache){var A=e;GLOBAL_CONFIG.DEBUG,this.cache.remove(A)}},c.prototype.clearCache=function(){this.cache&&(GLOBAL_CONFIG.DEBUG,this.cache.removeAll())},c.prototype.fetch=function(e,A,c,i){if(e){var r=this,t=e;if(A)for(var S in A)t+="|"+S+":"+A[S];if(c){var I=this.readCache(t);if(I&&I.length){var E=this.$q.defer();return this.$timeout(function(){E.resolve(I)},1),E.promise}}return this.$http.post(e,A).then(function(e){var A="function"==typeof i?i(e):e;return c&&r.writeCache(t,A),A})}},e.APIEndpoint=c}(this);
!function(){"use strict";function t(t,i){var n={};try{n.config=i.getObject("c")}catch(t){i.remove("c")}return n.fetch=function(){var c=this;return t.config.get().then(function(t){var n,e;return c.config=t.config,n=t.config,(e=new Date).setDate(e.getDate()+7),i.putObject("c",n,{expires:e}),t.config})},n.fetchWeChat=function(){return t.config.getWeChat().then(function(t){return t.config})},n.getConfig=function(){{if(this.config)return this.config;try{this.config=i.getObject("c")}catch(t){i.remove("c")}return this.config}},n}angular.module("app").factory("ConfigModel",t),t.$inject=["API","$cookies"]}();
!function(){"use strict";function t(t,n,e,r,a,i,o){var s={pay:function(t){var n=o.getOpenId(),e={order:t,code:"wxpay.web",openid:n};return a.pay(e).then(function(t){if(t&&t.data&&t.data.wxpay){var n=t.data;return GLOBAL_CONFIG.DEBUG&&i.toast(JSON.stringify(n)),wx.chooseWXPay({timestamp:n.wxpay.timestamp.toString(),nonceStr:n.wxpay.nonce_str,package:n.wxpay.packages,signType:"MD5",paySign:n.wxpay.sign,success:function(t){if(GLOBAL_CONFIG.DEBUG){var n=function t(n){var e=[];if("string"==typeof n)return'"'+n.replace(/([\'\"\\])/g,"\\$1").replace(/(\n)/g,"\\n").replace(/(\r)/g,"\\r").replace(/(\t)/g,"\\t")+'"';if("object"==typeof n){if(n.sort){for(var r=0;r<n.length;r++)e.push(t(n[r]));e="["+e.join()+"]"}else{for(var r in n)e.push(r+":"+t(n[r]));document.all&&!/^\n?function\s*toString\(\)\s*\{\n?\s*\[native code\]\n?\s*\}\n?\s*$/.test(n.toString)&&e.push("toString:"+n.toString.toString()),e="{"+e.join()+"}"}return e}return n.toString()}(t);i.toast(n)}return"chooseWXPay:ok"==t.errMsg?i.$emit("onPaySuccess",t.errMsg):i.$emit("onPayFailed",t.errMsg),!0},cancel:function(t){GLOBAL_CONFIG.DEBUG&&i.toast(JSON.stringify(t)),i.$emit("onPayFailed",t.errMsg)},fail:function(t){i.$emit("onPayFailed",t.errMsg),GLOBAL_CONFIG.DEBUG&&i.toast(JSON.stringify(t))}})}return!1})}};return s}angular.module("app").factory("WeixinService",t),t.$inject=["$http","$location","$q","CONSTANTS","APIPaymentService","$rootScope","AppAuthenticationService"]}();
!function(){"use strict";angular.module("app").filter("formatNickname",function(){return function(n){return n}})}();
!function(){"use strict";angular.module("app").filter("localTime",function(){return function(e){var t,r,n,u;return t=1e3*parseInt(e),r="yyyy-MM-dd HH:mm:ss",n=new Date(t),u=function(e){return(e<10?"0":"")+e},r.replace(/yyyy|MM|dd|HH|mm|ss/g,function(e){switch(e){case"yyyy":return u(n.getFullYear());case"MM":return u(n.getMonth()+1);case"mm":return u(n.getMinutes());case"dd":return u(n.getDate());case"HH":return u(n.getHours());case"ss":return u(n.getSeconds())}})}})}();
!function(){"use strict";angular.module("app").filter("trustHtml",["$sce","$injector","$log",function(n,t,r){return function(t){return n.trustAsHtml(t)}}])}();
!function(){"use strict";angular.module("app").directive("uiBack",["$window",function(i){return{restrict:"EA",link:function(i,n,t){n.click(function(){window.history.go(-1)})}}}])}();
angular.module("app").directive("uiButterbar",["$rootScope","$anchorScroll",function(t,a){return{restrict:"AC",template:'<span class="bar"></span>',link:function(t,a,e){function n(){a.removeClass("hide").addClass("active")}function c(){a.addClass("hide").removeClass("active")}a.addClass("butterbar active"),t.$on("$stateChangeStart",function(t){n()}),t.$on("$stateChangeSuccess",function(t,a,e,n){t.targetScope.$watch("$viewContentLoaded",function(){c()})}),t.$watch("activeCalls",function(t,a){0==t?c():n()})}}}]);
!function(){"use strict";angular.module("app").directive("uiFocus",["$timeout","$parse",function(c,o){return{link:function(n,u,i){var t=o(i.uiFocus);n.$watch(t,function(n){!0===n&&c(function(){u[0].focus()})}),u.bind("blur",function(){n.$apply(t.assign(n,!1))})}}}])}();
!function(){"use strict";angular.module("app").directive("uiScrollTo",["$location","$anchorScroll",function(i,l){return{restrict:"AC",link:function(c,n,o){n.on("click",function(c){i.hash(o.uiScrollTo),l()})}}}])}();
!function(){"use strict";angular.module("app").directive("uiToggleClass",["$timeout","$document",function(t,e){return{restrict:"AC",link:function(t,s,i){s.on("click",function(t){t.preventDefault();var e=i.uiToggleClass.split(","),a=i.target&&i.target.split(",")||Array(s),n=0;angular.forEach(e,function(t){var e=a[a.length&&n];-1!==t.indexOf("*")&&function(t,e){var a=new RegExp("\\s"+t.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g"),n=" "+$(e)[0].className+" ";for(;a.test(n);)n=n.replace(a," ");$(e)[0].className=$.trim(n)}(t,e),$(e).toggleClass(t),n++}),$(s).toggleClass("active")})}}}])}();
!function(){"use strict";angular.module("app").directive("uiValidInput",[function(){return{restrict:"A",require:"?ngModel",link:function(n,i,t,e){if(e){var u=n.$eval(t.uiValidInput),a=u.pattern;angular.isString(a)&&0<a.length&&(a=new RegExp("^"+a+"$"));var r=null;i.bind("compositionstart",function(){r=!0}),i.bind("compositionend",function(){r=!1}),n.$watch(t.ngModel,function(n,i){null!=r&&0!=r||function(n){if(!angular.isString(n))return;var i=!0;i&&u.max&&(i=n.length<=u.max);i&&u.min&&(i=n.length>=u.min);i&&a&&(i=a.test(n));e.$setValidity(t.name,i)}(n)})}}}}])}();
!function(){"use strict";angular.module("app").directive("uiValidLink",["LinksService",function(u){return{restrict:"A",require:"?ngModel",link:function(e,n,t,r){r&&e.$watch(t.ngModel,function(n,i){!function(n){if(!n)return;var i=u.parseLink(n);e.$evalAsync(function(){r.$setValidity(t.name,i.valid)})}(n)})}}}])}();